generator client {
  provider = "prisma-client-js"
}

generator typegraphql {
  provider           = "typegraphql-prisma"
  output             = "../src/__generated__/type-graphql"
  emitTranspiledCode = true
}

datasource db {
  provider = "postgresql"
  url      = env("PRISMA_DATABASE_URL")
}

model Birthday {
  userid    String   @id
  birthdate DateTime @db.Timestamptz(6)
  timezone  String?
  @@map(name: "birthday")
}

model BuddyProjectEntry {
  user_id             String    @id
  matched             Boolean
  discord_user        Boolean
  buddy_id            String?
  matched_date        DateTime? @db.Timestamptz(6)
  reported_ghost_date DateTime? @db.Timestamptz(6)
  @@map(name: "buddy_project_entry")
}

model ChannelToggle {
  id        Int      @id @default(autoincrement())
  channel   String
  emoji     String
  messageId String?  @db.VarChar
  message   Message? @relation(fields: [messageId], references: [id])

  @@unique([emoji, messageId], name: "IDX_886c4545692691c28e48cb964f")
  @@map(name: "channel_toggle")
}

model DailyChallenge {
  id        Int      @id @default(autoincrement())
  result    String   @db.VarChar
  last_used DateTime @default(dbgenerated("'1969-12-31 23:00:00'::timestamp without time zone")) @db.Timestamp(6)
  @@map(name: "daily_challenge")
}

model DeadchatQuestion {
  id        Int      @id @default(autoincrement())
  question  String   @db.VarChar
  last_used DateTime @default(dbgenerated("'2021-05-18 15:22:29.5'::timestamp without time zone")) @db.Timestamp(6)
  @@map(name: "deadchat_question")
}

model GroupMember {
  id                              String                            @id @db.VarChar
  user_group_members_group_member UserGroupMembersGroupMember[]
  @@map(name: "group_member")
}

model Message {
  id             String           @id @db.VarChar
  channel        String?
  channel_toggle ChannelToggle[]
  @@map(name: "message")
}

model ReactionRole {
  id         Int    @id @default(autoincrement())
  message_id String @db.VarChar
  channel_id String @db.VarChar
  reaction   String @db.VarChar
  role_id    String @db.VarChar

  @@unique([message_id, channel_id, reaction], name: "IDX_9a7f4eb4ad5822073b7454344b")
  @@map(name: "reaction_role")
}

model SomeoneUser {
  id   String   @id @db.VarChar
  time DateTime @db.Timestamptz(6)
  @@map(name: "someone_user")
}

model Topic {
  id      Int      @id @default(autoincrement())
  topic   String   @db.VarChar
  channel String   @db.VarChar
  created DateTime @default(dbgenerated("'2021-05-18 15:22:33.654'::timestamp without time zone")) @db.Timestamp(6)
  @@map(name: "topic")
}

model UserGroup {
  id                              Int                               @id @default(autoincrement())
  name                            String
  description                     String
  last_used                       DateTime                          @default(dbgenerated("('2021-05-18 17:22:42.549871'::timestamp without time zone - '01:00:00'::interval)")) @db.Timestamp(6)
  cooldown                        Int                               @default(60)
  user_group_members_group_member UserGroupMembersGroupMember[]
  @@map(name: "user_group")
}

model UserGroupMembersGroupMember {
  userGroupId   Int
  groupMemberId String       @db.VarChar
  group_member  GroupMember @relation(fields: [groupMemberId], references: [id])
  user_group    UserGroup   @relation(fields: [userGroupId], references: [id])

  @@id([userGroupId, groupMemberId])
  @@index([userGroupId], name: "IDX_4d5a864456d00dafe30649263e")
  @@index([groupMemberId], name: "IDX_b21e7c86a67e5a158ef88b530b")
  @@map(name: "user_group_members_group_member")
}

model Valentine {
  userId String    @id @db.VarChar
  start  DateTime? @db.Timestamp(6)
  end    DateTime? @db.Timestamp(6)
  @@map(name: "valentine")
}

model VoiceOnDemandMapping {
  user_id    String @id @db.VarChar
  channel_id String @db.VarChar
  emoji      String @db.VarChar
  @@map(name: "voice_on_demand_mapping")
}
